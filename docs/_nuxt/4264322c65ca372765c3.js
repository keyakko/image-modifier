(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{162:function(e,t,n){"use strict";n.r(t);n(104),n(152),n(31),n(55);var r=n(159),o={components:{VueCompareImage:function(){return n.e(6).then(n.t.bind(null,161,7))}},data:function(){return{convert_options:'[ "convert", "srcFile.jpg", "-charcoal", "2", "out.png" ]',image_original:{name:"",image:null,thumbnail:""},image_modified:""}},watch:{image_original:{handler:function(e,t){""!=e.name&&null!=e.image&&this.doMagick()},deep:!0}},methods:{onImageChanged:function(e){var t=this,n=e.target.files||e.dataTransfer.files;if(n&&n[0]){var r=new FileReader;r.addEventListener("load",(function(){t.image_original.name=n[0].name,t.image_original.name&&t.image_original.name.lastIndexOf(".")<=0||(t.image_original.thumbnail=r.result,t.image_original.image=n[0])})),r.readAsDataURL(n[0])}},doMagick:function(){var e,t,n,i,o,l,m,c;return regeneratorRuntime.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(r.a([],["convert","-list","format"]),void 0!==this.image_original.image.arrayBuffer){d.next=8;break}for(t=new ArrayBuffer(this.image_original.image.size),e=new Uint8Array(t),n=atob(this.image_original.thumbnail.split(",")[1]),i=0;i<this.image_original.image.size;i++)e[i]=n.charCodeAt(i);d.next=13;break;case 8:return d.t0=Uint8Array,d.next=11,regeneratorRuntime.awrap(this.image_original.image.arrayBuffer());case 11:d.t1=d.sent,e=new d.t0(d.t1);case 13:return o=[{name:this.image_original.name,content:e}],[],l=JSON.parse('[ "convert", "'+this.image_original.name+'", "-type", "GrayScale", "out.png" ]'),d.next=18,regeneratorRuntime.awrap(r.a(o,l));case 18:m=d.sent,c=m[0],console.log(c),this.image_modified=URL.createObjectURL(c.blob),console.log("created image "+c.name);case 23:case"end":return d.stop()}}),null,this)}}},l=n(21),m={components:{Magick:Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("no-ssr",[n("div",{staticClass:"container"},[n("div",{staticClass:"my-12 bg-gray-300 text-gray-800"},[n("p",{staticClass:"text-center text-lg"},[e._v("image modifier")])]),e._v(" "),n("div",{staticClass:"my-12"},[n("label",{staticClass:"block border-4 border-dashed cursor-pointer border-green-400 bg-green-200 text-green-800 flex items-center justify-center p-8 hover:opacity-50"},[n("p",[e._v("クリック/ドラックアンドドロップをして画像を選択")]),e._v(" "),n("input",{staticClass:"hidden",attrs:{type:"file",name:"",id:""},on:{change:e.onImageChanged}})])]),e._v(" "),n("div",{staticClass:"my-12 border border-gray-800"},[""!==e.image_modified?n("vue-compare-image",{attrs:{leftImage:e.image_original.thumbnail,rightImage:e.image_modified}}):e._e()],1)])])}),[],!1,null,null,null).exports}},c=Object(l.a)(m,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("magick")],1)}),[],!1,null,null,null);t.default=c.exports}}]);